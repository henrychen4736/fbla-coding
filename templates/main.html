<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBHS CTE Contacts</title>
    <link rel="stylesheet" href="/static/css/mainStyle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>

<body>
    <i class="fa-solid fa-bars"></i>
    <div class="sidebar-overlay"></div>
    <div class="sidebar">
        <a href="main" class="sidebar-item">
            <i class="fa-solid fa-house"></i>
            <div>Home</div>
        </a>
        <a href="help" class="sidebar-item">
            <i class="fa-solid fa-question"></i>
            <div>Help</div>
        </a>
        <a href="logout" class="sidebar-item" style="color: #FF0000;">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            <div>Sign out</div>
        </a>
    </div>
    <div class="list-container">
        <h1>Your Contacts</h1>
        <div class="left-col">

            {% for partner in partners %}
            <div class="company">
                <div class="company-img">
                    <div class="blur-background">
                        <form action="{{ url_for('toggle_bookmark', partner_id=partner['ID']) }}" method="post"
                            style="display: inline;">
                            <button type="submit" style="background: none; border: none; cursor: pointer;">
                                <i class="{{ 'fa-solid' if partner['Bookmarked'] else 'fa-regular' }} fa-bookmark"></i>
                            </button>
                        </form>
                    </div>
                    <img src="{{ url_for('partner_image', partner_id=partner['ID']) }}" alt="{{ partner['OrganizationName'] }} Logo">
                </div>
                <div class="company-info">
                    <h3>{{ partner['OrganizationName'] }}</h3>
                    <div class="brief-info">
                        <p class="phone-number">{{ partner['Phone'] }}</p>
                        <p class="company-type">{{ partner['TypeOfOrganization'] }}</p>
                        <p class="company-resources">Resources Available: <br><span>{{ partner['ResourcesAvailable']
                                }}</span></p>
                    </div>
                </div>
            </div>
            {% endfor %}

            <form method="get" action="/search">
                <div class="right-col">
                    <div class="filter-bar">
                        <h2>Select Filters</h2>
                        <div class="search-bar">
                            <input type="text" name="searchQuery" placeholder="Find anything..." id="searchInput">
                            <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                        </div>
                        <h3>Partner Type</h3>
                        <div class="filter"><input type="checkbox" name="types" value="Sole Proprietorship" {% if "Sole Proprietorship" in request.args.getlist('types') %}checked{% endif %}> Sole Proprietorship</div>
                        <div class="filter"><input type="checkbox" name="types" value="Partnership" {% if "Partnership" in request.args.getlist('types') %}checked{% endif %}> Partnership</div>
                        <div class="filter"><input type="checkbox" name="types" value="Limited Partnership" {% if "Limited Partnership" in request.args.getlist('types') %}checked{% endif %}> Limited Partnership</div>
                        <div class="filter"><input type="checkbox" name="types" value="LLC" {% if "LLC" in request.args.getlist('types') %}checked{% endif %}> LLC</div>
                        <div class="filter"><input type="checkbox" name="types" value="Corporation" {% if "Corporation" in request.args.getlist('types') %}checked{% endif %}> Corporation</div>
                        <div class="filter"><input type="checkbox" name="types" value="Non-Profit" {% if "Non-Profit" in request.args.getlist('types') %}checked{% endif %}> Non-Profit</div>
                        <div class="filter"><input type="checkbox" name="types" value="Other" {% if "Other" in request.args.getlist('types') %}checked{% endif %}> Other</div>
                        <h3>Resource Available</h3>
                        <div class="filter"><input type="checkbox" name="resources" value="Food Supply" {% if "Food Supply" in request.args.getlist('resources') %}checked{% endif %}> Food Supply</div>
                        <div class="filter"><input type="checkbox" name="resources" value="Construction" {% if "Construction" in request.args.getlist('resources') %}checked{% endif %}> Construction</div>
                        <div class="filter"><input type="checkbox" name="resources" value="Electronic" {% if "Electronic" in request.args.getlist('resources') %}checked{% endif %}> Electronic</div>
                        <div class="filter"><input type="checkbox" name="resources" value="Education" {% if "Education" in request.args.getlist('resources') %}checked{% endif %}> Education</div>
                        <div class="filter"><input type="checkbox" name="resources" value="Other" {% if "Other" in request.args.getlist('resources') %}checked{% endif %}> Other</div>
                    </div>
                </div>
            </form>
            <button class="add-contact"><i class="fa-solid fa-plus"></i>Create a new contact</button>
            </div>
        </div>
        <div class="create-overlay"></div>
        <div class="create-contact-page">
            <i class="fa-solid fa-xmark"></i>

            <form method="post" action="/add_partner" enctype="multipart/form-data">
                <h1>New Partner Contact</h1>
                <div class="contact-content">
                    <div class="add-image-container">
                        <p class="caption">Add partner image</p>
                        <input type="file" name="partner-image" accept="image/*" style="display: none;"
                            id="partner-image">
                        <label for="partner-image" class="fa-solid fa-plus" style="cursor: pointer;"></label>
                    </div>
                    <div class="input-container">
                        <div class="left-input">
                            <p class="caption">Name of partner</p>
                            <input type="text" name="organization_name" placeholder="Partner name" class="partner-name"
                                required>
                            <p class="caption">Type of partner</p>
                            <select name="type_of_organization" class="partner-type" required>
                                <option value="" disabled selected hidden>Select a partner type</option>
                                <option value="Sole Proprietorship">Sole Proprietorship</option>
                                <option value="Partnership">Partnership</option>
                                <option value="Limited Partnership">Limited Partnership</option>
                                <option value="LLC">LLC</option>
                                <option value="Corporation">Corporation</option>
                                <option value="Other">Other</option>
                            </select>
                            <input type="text" class="other-type" name="other_type" placeholder="Enter other type">
                            <p class="caption">Contact individual</p>
                            <div class="individual-info">
                                <input type="text" name="contact_name" placeholder="Individual name" required>
                                <input type="text" name="role" placeholder="Individual role" required>
                                <input type="email" name="email" placeholder="123@example.com" required>
                            </div>
                        </div>
                        <div class="right-input">
                            <p class="caption">TEL of partner</p>
                            <input type="text" class="partner-number" name="phone" placeholder="(###) ###-####"
                                required>
                            <p class="caption">Partner resource</p>
                            <select class="partner-resource" name="resources_available" required>
                                <option value="" disabled selected hidden>Select a resource</option>
                                <option value="Food Supply">Food Supply</option>
                                <option value="Construction">Construction</option>
                                <option value="Electronic">Electronic</option>
                                <option value="Education">Education</option>
                                <option value="Other">Other</option>
                            </select>
                            <input type="text" class="other-resource" name="other_resource"
                                placeholder="Enter other resource">
                            <p class="caption">Description</p>
                            <textarea class="description" name="description"
                                placeholder="Enter description..."></textarea>
                            <button type="submit" class="submit-contact">Add</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="detail-overlay"></div>
        <div class="detail-view">
            <i class="fa-solid fa-right-from-bracket"></i>
            <h1>[Name]</h1>
            <div class="partner-photo">
                <img src="/static/assets/company-placeholder.png">
            </div>
            <div class="partner-info">
            </div>
        </div>

        <script src="/static/js/mainScript.js"></script>
</body>

</html>